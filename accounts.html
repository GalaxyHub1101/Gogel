<!DOCTYPE html>
 <html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign In / Sign Up</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap" rel="stylesheet">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
  /* ... (Your existing CSS) ... */
  .google-btn-container {
   display: flex;
   justify-content: center;
   margin-top: 15px;
  }
  </style>
 </head>
 <body>

  <nav>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="../Links/shortcuts.html">Shortcuts</a></li>
    <li><a href="../Links/chefgel.html">Chefgel</a></li>
    <li><a href="../Links/accounts.html">Accounts</a></li>
   </ul>
  </nav>

  <div class="container" id="signin-container">
   <h2>Sign In</h2>
   <form id="signin-form">
    <div class="form-group">
     <label for="signin-email">Email:</label>
     <input type="email" id="signin-email" name="signin-email" required>
    </div>
    <div class="form-group">
     <label for="signin-password">Password:</label>
     <input type="password" id="signin-password" name="signin-password" required>
    </div>
    <button type="submit">Sign In</button>
    <div class="google-btn-container">
     <div id="g_id_signin"
          data-type="standard"
          data-size="large"
          data-theme="outline"
          data-text="sign_in_with"
          data-shape="rectangular"
          data-logo_alignment="left">
     </div>
    </div>
   </form>
   <p class="switch-form">Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
  </div>

  <div class="container hidden" id="signup-container">
   <h2>Sign Up</h2>
   <form id="signup-form">
    <div class="form-group">
     <label for="signup-email">Email:</label>
     <input type="email" id="signup-email" name="signup-email" required>
    </div>
    <div class="form-group">
     <label for="signup-password">Password:</label>
     <input type="password" id="signup-password" name="signup-password" required>
    </div>
    <button type="submit">Sign Up</button>
    <div class="google-btn-container">
     <div id="g_id_signup"
          data-type="standard"
          data-size="large"
          data-theme="outline"
          data-text="signup_with"
          data-shape="rectangular"
          data-logo_alignment="left">
     </div>
    </div>
   </form>
   <p class="switch-form">Already have an account? <a href="#" id="show-signin-from-signup">Sign In</a></p>
  </div>

  <script>
   // ... (Your existing JavaScript) ...

   window.onload = function() {
     google.accounts.id.initialize({
       client_id: '437477057377-828pgjibd4ud8itq78si81gen8jr950e.apps.googleusercontent.com', // **REPLACE THIS!**
       callback: handleCredentialResponse
     });
     google.accounts.id.renderButton(
       document.querySelector('.google-btn-container'),
       { theme: "outline", size: "large" }
     );
     // Optional: Render a separate sign-up button
     /* const signupGoogleBtn = document.getElementById('g_id_signup');
     if (signupGoogleBtn) {
       google.accounts.id.renderButton(
         signupGoogleBtn,
         { theme: "outline", size: "large", text: 'signup_with' }
       );
     } */
   };

   function handleCredentialResponse(response) {
     console.log("Encoded JWT ID token: " + response.credential);
     // **SEND THIS TOKEN TO YOUR BACKEND SERVER FOR VERIFICATION!**
     // Example using fetch:
     fetch('/api/auth/google', {
       method: 'POST',
       headers: {
         'Content-Type': 'application/json'
       },
       body: JSON.stringify({ token: response.credential })
     })
     .then(response => response.json())
     .then(data => {
       console.log(data);
       // Redirect or update UI based on backend response
     })
     .catch(error => {
       console.error('Error sending token:', error);
     });
   }
  </script>

 </body>
 </html>
